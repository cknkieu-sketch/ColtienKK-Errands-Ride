<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>ColtienKK Errands & Ride</title>
  <meta name="description" content="Reliable errands and ride services in SE Iowa. Mobile booking with instant quotes." />
  <meta name="theme-color" content="#0d9488" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root{
      --brand:#0d9488; /* teal-600 */
      --ink:#0f172a;   /* slate-900 */
      --muted:#475569; /* slate-600 */
      --bg:#f8fafc;    /* slate-50 */
      --radius:18px;
    }
    body{ font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji"; background:var(--bg); color:var(--ink); }
    .card{ background:white; border-radius:var(--radius); box-shadow: 0 10px 24px rgba(2,6,23,.08); }
    .ring{ box-shadow: 0 0 0 8px rgba(45,212,191,.25) }
    .sr{ position:absolute; left:-9999px }
    .input{ border:1px solid #e2e8f0; border-radius:14px; padding:.9rem .95rem; width:100%; outline:none }
    .input:focus{ border-color:#0d9488; box-shadow:0 0 0 3px rgba(13,148,136,.18) }
    .btn{ background:#0d9488; color:white; padding:.9rem 1rem; border-radius:14px; font-weight:700 }
    .btn:disabled{ background:#9ca3af }
    .muted{ color:#64748b }
    .link{ color:#0d9488 }
  </style>
</head>
<body>
  <main class="min-h-screen">
    <header class="px-4 pt-8 pb-4 max-w-xl mx-auto">
      <h1 class="text-3xl font-bold">ColtienKK Errands & Ride</h1>
      <p class="muted mt-1">Fast, local service in Burlington, Iowa — instant quotes, easy booking.</p>
    </header>

    <section class="px-4 pb-24 max-w-xl mx-auto">
      <div class="card p-4 sm:p-6">
        <form id="bookingForm" class="space-y-5">
          <input type="hidden" id="version" value="v1.0.0">
          <!-- Service -->
          <div>
            <label class="block font-semibold mb-1" for="service">Select a service</label>
            <select id="service" class="input" required>
              <option value="" disabled selected>Choose one…</option>
              <option>Ride (Point to Point)</option>
              <option>Errands (Shopping, Pickup, drop off)</option>
              <option>Delivery/Courier</option>
              <option>Other (describe)</option>
            </select>
          </div>

          <div id="otherWrap" class="hidden">
            <label class="block font-semibold mb-1" for="otherDetails">Describe the service</label>
            <textarea id="otherDetails" class="input" rows="3" placeholder="Describe your request"></textarea>
          </div>

          <!-- Customer info -->
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
            <div>
              <label class="block font-semibold mb-1" for="name">Your name</label>
              <input id="name" class="input" placeholder="Full name" required>
            </div>
            <div>
              <label class="block font-semibold mb-1" for="phone">Mobile phone</label>
              <input id="phone" class="input" placeholder="555-123-4567" required>
            </div>
            <div>
              <label class="block font-semibold mb-1" for="email">Email (for confirmation)</label>
              <input id="email" type="email" class="input" placeholder="you@example.com" required>
            </div>
            <div>
              <label class="block font-semibold mb-1" for="carrier">Carrier (for SMS)</label>
              <select id="carrier" class="input">
                <option value="">Select (optional)</option>
                <option value="att">AT&amp;T</option>
                <option value="tmobile">T-Mobile</option>
                <option value="verizon">Verizon</option>
                <option value="uscellular">US Cellular</option>
              </select>
            </div>
          </div>

          <!-- Pickup -->
          <div class="pt-2">
            <h2 class="font-bold mb-2">Pickup address</h2>
            <div class="grid grid-cols-1 gap-4">
              <input id="pickupAddress" class="input" placeholder="Street address" required>
              <div class="grid grid-cols-2 gap-4">
                <input id="pickupCity" class="input" placeholder="City" required>
                <select id="pickupState" class="input" required>
                  <option value="IA" selected>IA</option>
                  <option value="IL">IL</option>
                  <option value="MO">MO</option>
                  <option value="WI">WI</option>
                  <option value="MN">MN</option>
                  <option value="NE">NE</option>
                </select>
              </div>
              <input id="pickupZip" class="input" placeholder="ZIP" required>
            </div>
          </div>

          <!-- Dropoff -->
          <div class="pt-2">
            <h2 class="font-bold mb-2">Drop-off address</h2>
            <div class="grid grid-cols-1 gap-4">
              <input id="dropAddress" class="input" placeholder="Street address" required>
              <div class="grid grid-cols-2 gap-4">
                <input id="dropCity" class="input" placeholder="City" required>
                <select id="dropState" class="input" required>
                  <option value="IA" selected>IA</option>
                  <option value="IL">IL</option>
                  <option value="MO">MO</option>
                  <option value="WI">WI</option>
                  <option value="MN">MN</option>
                  <option value="NE">NE</option>
                </select>
              </div>
              <input id="dropZip" class="input" placeholder="ZIP" required>
            </div>
          </div>

          <!-- When & wait -->
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
            <div>
              <label class="block font-semibold mb-1" for="date">Date</label>
              <input id="date" type="date" class="input" required>
            </div>
            <div>
              <label class="block font-semibold mb-1" for="time">Time</label>
              <input id="time" type="time" class="input" required>
            </div>
            <div>
              <label class="block font-semibold mb-1" for="wait">Expected wait (minutes)</label>
              <input id="wait" type="number" class="input" value="0" min="0" step="5" required>
            </div>
            <div>
              <label class="block font-semibold mb-1" for="notes">Notes (optional)</label>
              <input id="notes" class="input" placeholder="Gate code, apartment #, etc.">
            </div>
          </div>

          <!-- Quote box -->
          <div class="p-4 rounded-xl bg-teal-50 border border-teal-200">
            <div class="flex items-center justify-between">
              <div>
                <div class="font-semibold">Instant quote</div>
                <div id="quoteBreakdown" class="text-sm muted">Enter addresses to calculate…</div>
              </div>
              <div class="text-right">
                <div class="text-3xl font-bold" id="quoteTotal">$0.00</div>
                <div class="muted text-xs" id="distanceTotal">0.0 mi</div>
              </div>
            </div>
          </div>

          <!-- Actions -->
          <div class="flex gap-3">
            <button id="calcBtn" class="btn flex-1" type="button">Calculate Quote</button>
            <button id="bookBtn" class="btn flex-1" type="submit" disabled>Book Now</button>
          </div>

          <p class="text-xs muted">
            By booking, you consent to receive email/SMS confirmations. Standard carrier rates apply.
          </p>
        </form>
      </div>

      <p class="mt-6 text-center text-sm">
        Admin? <a class="link font-semibold" href="./admin.html">Go to admin</a>
      </p>
    </section>
  </main>

  <script>
    // ======== CONFIG (edit in admin) ========
    window.CKK_CONFIG = {
      orsKey: 'eyJvcmciOiI1YjNjZTM1OTc4NTExMTAwMDFjZjYyNDgiLCJpZCI6ImI5YzhhMzQ0NTVjZjRmYWJhMDgxZDUzODI3NTIwZjg5IiwiaCI6Im11cm11cjY0In0=',
      office: {
        address: '2617 Evergreen Drive',
        city: 'Burlington',
        state: 'IA',
        zip: '52601'
      },
      rates: {
        base: 10.00,        // base fee USD
        perMile: 1.90,      // per mile USD
        waitPerMin: 0.50,   // USD per min after first 10
        freeWaitMins: 10
      },
      gasWebAppUrl: 'https://script.google.com/macros/s/AKfycbwxHNC659Abc8wCqeIwB0cjE2aBGZ9ZySTSivpPlLpk3pd79efOp6wpAHrAWJ9hEQc/exec', // set in README steps
      business: {
        name: 'ColtienKK Errands & Ride',
        email: 'coltienkk@gmail.com',
        phone: '5632711186'
      }
    };
  </script>
  <script src="./assets/app.js"></script>
</body>
</html>
